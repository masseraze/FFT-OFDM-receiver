# FFT-OFDM-receiver
Input signal was generated by software simulation and was demodulated by PYNQ-Z2 hardware.

## OFDM receiver block diagram
We implement the red block through RTL coding

![OFDM](https://user-images.githubusercontent.com/26044795/204306827-e22a2f6d-2dbc-43be-8608-8d5006529930.png)

We adopt Radix-2 DIT FFT algorithm, butterfly unit

<img src="https://user-images.githubusercontent.com/26044795/204341671-cc99a067-b75c-427e-b8e7-384aa6f4ae2e.png" width="50%"><img src="https://user-images.githubusercontent.com/26044795/204341968-42d24036-c133-417b-a8a3-07d64d0e4b21.png" width = "50%"/>

## Vivado block design
<div align=center><img width = "70%" src="https://user-images.githubusercontent.com/26044795/204294598-8e916aca-d082-44a1-b3f6-a9f02e714763.png"/></div>

## Resource usage
OFDM reciever architecture with 16 point Radix-2 DIT FFT - work!
<img src="https://user-images.githubusercontent.com/26044795/204295020-d8629ba8-c083-4d72-a78f-7ced94afb5ef.png">
OFDM reciever architecture with 32 point Radix-2 DIT FFT - slices of DSP is not enough in this PYNQ-Z2 board
<img src="https://user-images.githubusercontent.com/26044795/204310938-dc26a9e6-438f-462a-b29c-abff4ff4217c.png">
Although we still can implement 32 point FFT with strategies, we do not have time to fix all the bugs during term project.

## Precision consideration
To specify porper fractional bits on FPGA outcome, we simulate hexadecimal digits on Bit Error Rate (BER) performance corresponding to Signal to Noise Ratio (SNR). To achieve a reasonable result, we use two hex digits as the fractional part.
<div align=center><img width = "50%" src="https://user-images.githubusercontent.com/26044795/204322379-819b83ff-ab63-46c1-8de2-49c6a95327a7.png"/></div>

## System behavior flowchart 

## Vitis output 
Input 120 transmitted data  with SNR=10 (6 symbols, 20 transmitted data for each symbol)<br>
Compare data with the golden model simulated by MATLAB<br>
Zero errors between PYNQ-Z2 hardware and Matlab result

![image](https://user-images.githubusercontent.com/26044795/204346034-345a57de-1eb1-47f7-901c-78cd3a46cc5a.png)![image](https://user-images.githubusercontent.com/26044795/204346666-9ff47464-1080-4554-a80c-ac48d7d1ee6e.png) ![image](https://user-images.githubusercontent.com/26044795/204346117-03f76af3-fca5-465a-bf4f-80e2bc47e5ba.png)<img src="https://user-images.githubusercontent.com/26044795/204346917-f8395603-d658-4f79-bc89-9995635ed23e.png" width="20%">

Input 1000 OFDM symbols with SNR=10 (20 transmitted data for each symbol)<br>
Same with Matlab simulation
<div align=center><img width = "40%" src="https://user-images.githubusercontent.com/26044795/204349940-a8c8ef15-dfed-4db7-98c6-50b463836213.png"/></div>


Input 1000 OFDM symbols with SNR=1 (20 transmitted data for each symbol)<br>
Demodulated data maintained 99.6\% accuracy<br>
<div align=center><img width = "40%" src="https://user-images.githubusercontent.com/26044795/204349890-d7c5bf90-8637-4554-a89c-9adc342816c8.png"/></div>
